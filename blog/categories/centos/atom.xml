<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: CentOS | kanlog]]></title>
  <link href="http://kanpe777.github.io/blog/categories/centos/atom.xml" rel="self"/>
  <link href="http://kanpe777.github.io/"/>
  <updated>2014-01-23T17:09:49+09:00</updated>
  <id>http://kanpe777.github.io/</id>
  <author>
    <name><![CDATA[kanpe777]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[sudo which gem等でcommand sudo: gem: command not found を解決]]></title>
    <link href="http://kanpe777.github.io/blog/2014/01/15/add-path-to-sudo-command/"/>
    <updated>2014-01-15T12:04:00+09:00</updated>
    <id>http://kanpe777.github.io/blog/2014/01/15/add-path-to-sudo-command</id>
    <content type="html"><![CDATA[<h2>環境</h2>

<ul>
<li><a href="http://nomnel.net/blog/centos-system-wide-rbenv-and-ruby-build/">CentOSでsystem wideなrbenv+ruby-build環境を構築する</a>でroot側にrbenvが入ってる</li>
<li>rubyをなんでも1つrbenvでinstallしてある状態</li>
</ul>


<h2>現象</h2>

<p><code>
$ sudo gem list 等をすると
sudo: gem: command not found
</code></p>

<p>というのがでる。</p>

<h2>解決方法</h2>

<p>sudoが見に行くPATHに追加する</p>

<p><code>
$ sudo su
$ visudo
</code>
で以下を変更
<code>
変更前
Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin
変更後
Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/rbenv/shims
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOSにRails4.0.1とPostgreSQL9.3をinstallするまで]]></title>
    <link href="http://kanpe777.github.io/blog/2014/01/13/install-rails-4-dot-0-1-and-postgresql-9-dot-3-on-centos/"/>
    <updated>2014-01-13T20:12:00+09:00</updated>
    <id>http://kanpe777.github.io/blog/2014/01/13/install-rails-4-dot-0-1-and-postgresql-9-dot-3-on-centos</id>
    <content type="html"><![CDATA[<h3>やったこと</h3>

<ul>
<li>PostgreSQLのrpmをwgetしてrpm -ivh</li>
<li>yum で install</li>
<li>gem install pg</li>
<li>gem install rails</li>
</ul>


<h3>PostgreSQL</h3>

<h4>installまで</h4>

<p><code>
$ wget -P /tmp http://yum.postgresql.org/9.3/redhat/rhel-6-x86_64/pgdg-centos93-9.3-1.noarch.rpm
$ sudo rpm -ivh /tmp/pgdg-centos93-9.3-1.noarch.rpm
$ sudo yum install -y postgresql93-server postgresql93-devel postgresql93-contrib
</code></p>

<h4>DBの初期化 &amp; 起動</h4>

<p><code>
$ sudo /etc/rc.d/init.d/postgresql-9.3 initdb
$ sudo /etc/rc.d/init.d/postgresql-9.3 start
</code></p>

<h4>サーバ起動時にPostgresが起動するように</h4>

<p><code>
$ sudo chkconfig postgresql-9.3 on
</code></p>

<h4>確認</h4>

<p><code>
$ chkconfig --list | grep postgresql-9.3
postgresql-9.3  0:off   1:off   2:on    3:on    4:on    5:on    6:off
</code></p>

<h3>gem install pg</h3>

<h4>事前準備</h4>

<p><code>
$ export PATH=${PATH}:/usr/pgsql-9.3/bin
$ gem install pg
</code></p>

<h3>railsのインストール</h3>

<p><code>
$ gem install rails
</code></p>

<h3>確認</h3>

<p><code>
$ rails -v
</code></p>

<h3>参考</h3>

<ul>
<li><a href="http://morizyun.github.io/blog/postgresql-mac-centos-rails/">Mac MountainLion/CentOS6.4へのPostgreSQL9.2の導入手順</a></li>
<li><a href="http://morizyun.github.io/blog/heroku-rails4-postgresql-introduction/">Rails4でheroku Pushまでの最短手順 (Haml/bootstrap 3.0/postgresql or MySQL)</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOS 6.5 にrbenvでrubyをインストールするまで]]></title>
    <link href="http://kanpe777.github.io/blog/2014/01/13/install-rbenv-on-centos-6-dot-5/"/>
    <updated>2014-01-13T17:54:00+09:00</updated>
    <id>http://kanpe777.github.io/blog/2014/01/13/install-rbenv-on-centos-6-dot-5</id>
    <content type="html"><![CDATA[<h3>やったこと</h3>

<ol>
<li>rbenvのインストール</li>
<li>ruby-buildのインストール</li>
<li>rbenvでrubyのインストール</li>
</ol>


<h3>1. rbenv</h3>

<p><code>
$ git clone git://github.com/sstephenson/rbenv.git ~/.rbenv
$ echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.zshrc
$ echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.zshrc
</code></p>

<h3>2. ruby-build</h3>

<p><code>
$ git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
$ cd ~/.rbenv/plugins/ruby-build
$ sudo ./install.sh
</code></p>

<h3>3. ruby 2.1のインストール</h3>

<ul>
<li>依存系ファイルのインストール</li>
<li>install
<code>
$ yum install --enablerepo=epel make gcc zlib-devel openssl-devel readline-devel ncurses-devel gdbm-devel db4-devel libffi-devel tk-devel libyaml-devel
$ rbenv install 2.1.0
$ rbenv rehash
$ rbenv global 2.1.0
$ ruby -v で確認
</code></li>
</ul>


<h4>おまけ: rbenvでインストール可能なやつ一覧</h4>

<p><code>
 $ rbenv install -l
...
  2.0.0-rc2
  2.1.0
  2.1.0-dev
  2.1.0-preview1
  2.1.0-preview2
  2.1.0-rc1
  2.2.0-dev
...
</code></p>

<h3>参考</h3>

<ul>
<li><a href="http://qiita.com/IK12_info/items/641fbdc4082e9f56f1c5">CentOS ruby-build, rbenvのインストール方法(Qiita)</a></li>
<li><a href="http://nomnel.net/blog/centos-system-wide-rbenv-and-ruby-build/">CentOSでsystem wideなrbenv+ruby-build環境を構築する</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[yum install emacs24 on CentOS 6.5]]></title>
    <link href="http://kanpe777.github.io/blog/2014/01/12/yum-install-emacs24-on-centos-6-dot-5/"/>
    <updated>2014-01-12T14:48:00+09:00</updated>
    <id>http://kanpe777.github.io/blog/2014/01/12/yum-install-emacs24-on-centos-6-dot-5</id>
    <content type="html"><![CDATA[<h3>目的</h3>

<ul>
<li>sourceからではなく、yumコマンドでemacs24をCentOSに入れる</li>
</ul>


<h3>やったこと</h3>

<ul>
<li>wgetコマンドのインストール</li>
<li>yumのリポジトリの追加</li>
<li>yum rpm -import</li>
<li>yum install emacs-24.2-4.el6.x86_64</li>
</ul>


<h3>詳細</h3>

<h4>参考:<a href="http://vitalvastness.wordpress.com/2013/07/03/installing-emacs-24-on-centos-6/comment-page-1/">Installing Emacs 24 on Centos 6</a></h4>

<p><code>
 $ cd /etc/yum.repos.d
 $ sudo wget http://pj.freefaculty.org/EL/pjku.repo
 $ sudo rpm --import http://pj.freefaculty.org/EL/PaulJohnson-BinaryPackageSigningKey
 $ sudo yum install emacs-24.2-4.el6.x86_64
 $ emacs -versionで確認
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VagrantでCentOS 6.5 をインストール]]></title>
    <link href="http://kanpe777.github.io/blog/2014/01/12/install-centos-6-dot-5-by-vagarant/"/>
    <updated>2014-01-12T13:41:00+09:00</updated>
    <id>http://kanpe777.github.io/blog/2014/01/12/install-centos-6-dot-5-by-vagarant</id>
    <content type="html"><![CDATA[<h3>やったこと</h3>

<ul>
<li>最新版のVagrantのインストール(1.2.7 &ndash;> 1.4.3)</li>
<li>最新版のVirtualBoxのインストール(4.2.12 &ndash;> 4.3.6)</li>
<li>vagrant box add コマンドでCentOS 6.5 のboxを追加する</li>
<li>vagrant init コマンドでインストール</li>
<li>vagrant up コマンドで起動</li>
</ul>


<h3>詳細</h3>

<h4>参考:<a href="http://www.vagrantbox.es/">Vagrantbox.es</a></h4>

<p><code>
 $ vagrant box add centos65-x86_64-20131205 https://github.com/2creatives/vagrant-centos/releases/download/v6.5.1/centos65-x86_64-20131205.box
 $ mkdir centos_6.5.1
 $ cd centos_6.5.1
 $ vagrant init centos65-x86_64-20131205
 $ vagrant up
 $ vagrant ssh
</code></p>

<p><code>vagrant ssh</code> コマンドで確認可能</p>
]]></content>
  </entry>
  
</feed>
